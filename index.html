#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// 期待値データ
int expected_values[] = {
    100, 500,
    200, 1500,
    300, 2500,
    400, 3500,
    500, 4500,
    600, 5500,
    700, 6500,
    800, 7500,
    900, 8500,
    1000, 9500
};

// 期待値を取得する関数
int get_expected_value(int games) {
    for (int i = 0; i < sizeof(expected_values) / sizeof(expected_values[0]); i += 2) {
        if (expected_values[i] == games) {
            return expected_values[i + 1];
        }
    }
    return -1; // 該当するデータがない場合
}

int main(void) {
    printf("Content-type: text/html\n\n");

    // クエリ文字列からゲーム数を取得
    char *query = getenv("QUERY_STRING");
    if (query == NULL) {
        printf("<h1>エラー: クエリ文字列がありません</h1>");
        return 1;
    }

    int games = atoi(query + 6); // "games="の後ろの部分を取得

    // 期待値を計算
    int expected_value = get_expected_value(games);

    // 結果を表示
    printf("<html><head><title>期待値計算機</title></head><body>");
    printf("<h1>期待値計算機</h1>");
    printf("<form method='get'>");
    printf("ゲーム数を入力してください: <input type='number' name='games' required>");
    printf("<input type='submit' value='計算'>");
    printf("</form>");

    if (expected_value != -1) {
        printf("<h2>期待値: %d 円</h2>", expected_value);
    } else {
        printf("<h2>該当するデータがありません</h2>");
    }

    printf("</body></html>");
    return 0;
}
